!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{ipR4:function(t,o,r){"use strict";r.r(o),r.d(o,"OwnerModule",function(){return K});var i,a=r("tyNb"),s=r("mrSG"),c=r("fXoL"),u=r("1NxV"),l=r("7Cbv"),p=r("1qDh"),d=((i=function(){function t(n){e(this,t),this.poSyncService=n,this.resource="owner",this.schema=u.a.name}return n(t,[{key:"getAll",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.poSyncService.getModel(this.schema).find().exec();case 2:return t=e.sent,n=t.items.map(function(e){return Object.assign(Object.assign({},e),{birthdayDate:new Date(e.birthday+" 00:00:00")})}),e.abrupt("return",(console.log(n),{hasNext:t.hasNext,items:n}));case 5:case"end":return e.stop()}},e,this)}))}},{key:"get",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.poSyncService.getModel(this.schema),t.next=3,n.findById(e).exec();case 3:if(o=t.sent,console.log(o),console.log(this.schema),t.t0=o,t.t0){t.next=11;break}return t.next=10,n.findOne({internalId:e}).exec();case 10:o=t.sent;case 11:return console.log(o),t.abrupt("return",o);case 13:case"end":return t.stop()}},t,this)}))}},{key:"update",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.poSyncService.getModel(this.schema).save(e);case 2:case"end":return t.stop()}},t,this)}))}},{key:"create",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(l.a)(),Object.assign(e,{internalId:n}),t.next=4,this.poSyncService.getModel(this.schema).save(e);case 4:case"end":return t.stop()}},t,this)}))}},{key:"delete",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.poSyncService.getModel(this.schema).remove(e);case 2:case"end":return t.stop()}},t,this)}))}}]),t}()).\u0275fac=function(e){return new(e||i)(c.Tb(p.d))},i.\u0275prov=c.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),m=r("wBT/"),b=["table"],h=["confirmToRemove"];function v(e,t){if(1&e&&(c.Pb(0,"div",6),c.Kb(1,"po-info",7),c.Kb(2,"po-info",8),c.Ob(),c.Pb(3,"div",6),c.Kb(4,"po-info",9),c.Kb(5,"po-info",10),c.Ob()),2&e){var n=t.$implicit;c.wb(1),c.gc("p-value",n.email),c.wb(1),c.gc("p-value",n.phone),c.wb(2),c.gc("p-value",n.address),c.wb(1),c.gc("p-value",n.birthday)}}var f,w,g,y,k,O=((f=function(){function t(n,o,r){var i=this;e(this,t),this.ownerService=n,this.router=o,this.poSync=r,this.owners=[],this.loading=!0,this.actions=[{action:function(){return i.router.navigateByUrl("/owners/new")},label:"Novo Dono",icon:"po-icon-user-add"}],this.tableColumns=[{property:"name",label:"Nome"},{property:"email",label:"E-mail",action:this.sendEmail.bind(this),type:"link"},{property:"phone",label:"Telefone"},{property:"address",label:"Endere\xe7o"},{property:"birthday",label:"Data Nascimento String",type:"date"},{property:"birthdayDate",label:"Data Nascimento Date",type:"date"}],this.tableActions=[{action:this.onViewOwner.bind(this),label:"Visualizar"},{action:this.onEditOwner.bind(this),label:"Editar"},{action:this.onRemoveOwner.bind(this),label:"Remover",type:"danger",separator:!0}],this.poSync.onSync().subscribe(function(){return Object(s.a)(i,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOwners();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))})}return n(t,[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getOwners();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Too soon");case 8:case"end":return e.stop()}},e,this,[[0,5]])}))}},{key:"getOwners",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ownerService.getAll();case 2:this.owners=e.sent.items,console.log(this.owners),this.loading=!1;case 5:case"end":return e.stop()}},e,this)}))}},{key:"onEditOwner",value:function(e){this.router.navigateByUrl("/owners/edit/"+(e.id?e.id:e.internalId))}},{key:"onViewOwner",value:function(e){this.router.navigateByUrl("/owners/view/"+(e.id?e.id:e.internalId))}},{key:"onRemoveOwner",value:function(e){var t=this;this.modalText="Tem certeza que deseja remover ".concat(e.name,"?"),this.modal.primaryAction={action:function(){t.ownerService.delete(e).then(function(){t.owners.splice(t.owners.indexOf(e),1),t.modal.close()})},danger:!0,label:"Remover"},this.modal.secondaryAction={action:function(){return t.modal.close()},label:"Cancelar"},this.modal.open()}},{key:"sendEmail",value:function(e){window.open("mailto:".concat(e.email,"?subject=Contato - Gest\xe3o Pets&body=Ol\xe1 ").concat(e.name,","),"_self")}}]),t}()).\u0275fac=function(e){return new(e||f)(c.Jb(d),c.Jb(a.d),c.Jb(p.d))},f.\u0275cmp=c.Db({type:f,selectors:[["app-owner-list"]],viewQuery:function(e,t){var n;1&e&&(c.vc(b,!0),c.vc(h,!0)),2&e&&(c.mc(n=c.Xb())&&(t.table=n.first),c.mc(n=c.Xb())&&(t.modal=n.first))},decls:7,vars:8,consts:[["p-title","Donos",3,"p-actions"],["p-property-title","name",1,"po-visible-md",3,"p-items","p-actions"],["p-list-view-content-template",""],["p-selectable","","p-sort","true",1,"po-hidden-md","po-hidden-sm",3,"p-loading","p-actions","p-items","p-columns"],["p-click-out","true","p-title","Remover Dono"],["confirmToRemove",""],[1,"po-row"],["p-label","Email",1,"po-sm-6",3,"p-value"],["p-label","Telefone",1,"po-sm-6",3,"p-value"],["p-label","Endere\xe7o",1,"po-sm-6",3,"p-value"],["p-label","Data Nascimento",1,"po-sm-6",3,"p-value"]],template:function(e,t){1&e&&(c.Pb(0,"po-page-list",0),c.Pb(1,"po-list-view",1),c.xc(2,v,6,4,"ng-template",2),c.Ob(),c.Kb(3,"po-table",3),c.Ob(),c.Pb(4,"po-modal",4,5),c.zc(6),c.Ob()),2&e&&(c.gc("p-actions",t.actions),c.wb(1),c.gc("p-items",t.owners)("p-actions",t.tableActions),c.wb(2),c.gc("p-loading",t.loading)("p-actions",t.tableActions)("p-items",t.owners)("p-columns",t.tableColumns),c.wb(3),c.Bc("\n",t.modalText,"\n"))},directives:[m.o,m.h,m.i,m.p,m.k,m.f],styles:[""]}),f),x=r("3Pt+"),R=function t(){e(this,t)},S=function(e){return e.INSERT="insert",e.EDIT="edit",e}({}),D=((w=function(){function t(n,o,r,i,a){e(this,t),this.formBuilder=n,this.activatedRoute=o,this.ownerService=r,this.notificationService=i,this.router=a,this.action=S.INSERT,this.owner=new R,this.formTitle="Novo Dono",this.buildForm()}return n(t,[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.activatedRoute.snapshot.params.id||this.activatedRoute.snapshot.params.internalId,e.t0=t,!e.t0){e.next=9;break}return this.action=S.EDIT,e.next=6,this.ownerService.get(t);case 6:this.owner=e.sent,console.log(this.owner),this.buildForm();case 9:this.formTitle=this.pageTitle();case 10:case"end":return e.stop()}},e,this)}))}},{key:"buildForm",value:function(){this.form=this.formBuilder.group({name:[this.owner.name,x.o.required],email:[this.owner.email,x.o.compose([x.o.required,x.o.email])],birthday:[this.owner.birthday,x.o.required],address:[this.owner.address,x.o.required],phone:[this.owner.phone,x.o.required],exemploDecimal:["",x.o.required]})}},{key:"pageTitle",value:function(){return this.isEditAction?"Atualizar Dono":"Novo Dono"}},{key:"save",value:function(){var e=this;Object.assign(this.owner,this.form.value),this.isEditAction?this.ownerService.update(this.owner).then(function(){return e.goBack("Dono atualizado com sucesso!")}):this.ownerService.create(this.owner).then(function(){return e.goBack("Dono cadastrado com sucesso!")})}},{key:"goBack",value:function(e){this.notificationService.success(e),this.router.navigateByUrl("/owners")}},{key:"cancel",value:function(){this.router.navigateByUrl("/owners")}},{key:"isEditAction",get:function(){return this.action===S.EDIT}}]),t}()).\u0275fac=function(e){return new(e||w)(c.Jb(x.c),c.Jb(a.a),c.Jb(d),c.Jb(m.m),c.Jb(a.d))},w.\u0275cmp=c.Db({type:w,selectors:[["app-owner-form"]],decls:13,vars:3,consts:[["p-no-border","true","p-no-shadow","true"],[1,"po-font-title"],[3,"formGroup"],["name","name","formControlName","name","p-required","","p-label","Nome completo",1,"po-md-5"],["name","email","formControlName","email","p-required","","p-label","E-mail",1,"po-md-5",3,"p-disabled"],["name","address","formControlName","address","p-required","","p-label","Endere\xe7o completo",1,"po-md-5"],["name","phone","formControlName","phone","p-required","","p-mask","(99) 99999-9999","p-label","Telefone",1,"po-md-3"],["name","exemploDecimal","p-label","Exemplo Decimal","formControlName","exemploDecimal"],["name","birthday","p-mask","99/99/9999","formControlName","birthday","p-label","Data de Nascimento",1,"po-md-3"],[1,"po-row"],["p-label","Salvar",3,"p-click"]],template:function(e,t){1&e&&(c.Pb(0,"po-page-detail"),c.Pb(1,"po-container",0),c.Pb(2,"h1",1),c.zc(3),c.Ob(),c.Pb(4,"form",2),c.Kb(5,"po-input",3),c.Kb(6,"po-email",4),c.Kb(7,"po-input",5),c.Kb(8,"po-input",6),c.Kb(9,"po-decimal",7),c.Kb(10,"po-input",8),c.Pb(11,"div",9),c.Pb(12,"po-button",10),c.Wb("p-click",function(){return t.save()}),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.wb(3),c.Ac(t.formTitle),c.wb(1),c.gc("formGroup",t.form),c.wb(2),c.gc("p-disabled",t.isEditAction))},directives:[m.n,m.b,x.q,x.j,x.e,m.g,x.i,x.d,m.d,m.c,m.a],styles:[""]}),w),T=r("ofXK"),E=["confirmToRemove"],N=[{path:"",component:O},{path:"new",component:D},{path:"edit/:id",component:D},{path:"view/:id",component:(g=function(){function t(n,o,r,i){e(this,t),this.ownerService=n,this.router=o,this.activatedRoute=r,this.notificationService=i,this.owner=new R}return n(t,[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.activatedRoute.snapshot.params.id,e.next=3,this.ownerService.get(t);case 3:this.owner=e.sent;case 4:case"end":return e.stop()}},e,this)}))}},{key:"back",value:function(){this.router.navigateByUrl("/owners")}},{key:"remove",value:function(){var e=this;this.modalText="Tem certeza que deseja remover ".concat(this.owner.name,"?"),this.modal.primaryAction={action:function(){e.ownerService.delete(e.owner).then(function(){e.modal.close(),e.notificationService.success("Dono exclu\xeddo com sucesso!"),e.router.navigateByUrl("/owners")})},danger:!0,label:"Remover"},this.modal.secondaryAction={action:function(){return e.modal.close()},label:"Cancelar"},this.modal.open()}},{key:"edit",value:function(){this.router.navigateByUrl("/owners/edit/"+this.owner.id)}}]),t}(),g.\u0275fac=function(e){return new(e||g)(c.Jb(d),c.Jb(a.d),c.Jb(a.a),c.Jb(m.m))},g.\u0275cmp=c.Db({type:g,selectors:[["app-owner-view"]],viewQuery:function(e,t){var n;1&e&&c.vc(E,!0),2&e&&c.mc(n=c.Xb())&&(t.modal=n.first)},decls:11,vars:9,consts:[["p-title","Detalhes do Dono",3,"p-back","p-remove","p-edit"],[1,"po-row"],["p-label","Nome",1,"po-md-5",3,"p-value"],["p-label","E-mail",1,"po-md-5",3,"p-value"],["p-label","Data de Nascimento",1,"po-md-3",3,"p-value"],["p-label","Endere\xe7o completo",1,"po-md-6",3,"p-value"],["p-label","Telefone",1,"po-md-3",3,"p-value"],["p-click-out","true","p-title","Remover Dono"],["confirmToRemove",""]],template:function(e,t){1&e&&(c.Pb(0,"po-page-detail",0),c.Wb("p-back",function(){return t.back()})("p-remove",function(){return t.remove()})("p-edit",function(){return t.edit()}),c.Pb(1,"div",1),c.Kb(2,"po-info",2),c.Kb(3,"po-info",3),c.Kb(4,"po-info",4),c.ac(5,"date"),c.Kb(6,"po-info",5),c.Kb(7,"po-info",6),c.Ob(),c.Ob(),c.Pb(8,"po-modal",7,8),c.zc(10),c.Ob()),2&e&&(c.wb(2),c.gc("p-value",t.owner.name),c.wb(1),c.gc("p-value",t.owner.email),c.wb(1),c.gc("p-value",c.cc(5,6,t.owner.birthday,"dd/MM/yyyy")),c.wb(2),c.gc("p-value",t.owner.address),c.wb(1),c.gc("p-value",t.owner.phone),c.wb(3),c.Bc("\n",t.modalText,"\n"))},directives:[m.n,m.f,m.k],pipes:[T.f],styles:[""]}),g)}],j=((y=function t(){e(this,t)}).\u0275mod=c.Hb({type:y}),y.\u0275inj=c.Gb({factory:function(e){return new(e||y)},imports:[[a.g.forChild(N)],a.g]}),y),B=r("FpXt"),K=((k=function t(){e(this,t)}).\u0275mod=c.Hb({type:k}),k.\u0275inj=c.Gb({factory:function(e){return new(e||k)},imports:[[j,B.a]]}),k)}}])}();